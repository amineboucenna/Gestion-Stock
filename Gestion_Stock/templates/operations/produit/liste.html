<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produit</title>

  <style>
    .card>*,
    #search-box,
    .list-message {
      margin: 2%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      font-weight: bold;
    }
  
  </style>

</head>

<body>
  {%include 'partials/file.html' %}

  <nav class="navbar navbar-light bg-dark">
    <span class="navbar-text">
      Bienvenue au Produit
    </span>
  </nav>

  <div id="search-box">
    <h4 class="list-message"><i class="fa-solid fa-magnifying-glass"></i> Rechercher un produit par : </h4>

    <button onclick=location.href="{% url 'rechercher_produit' %}" type="button" class="btn btn-success"> Rechercher par
      designation
    </button>
    <button onclick=location.href="{% url 'rechercher_type_produit' %}" type="button" class="btn btn-success">
      Rechercher par type
    </button>
    <button onclick=location.href="{% url 'rechercher_typep_produit' %}" type="button" class="btn btn-success">
      Rechercher par type produit
    </button>

  </div>

  <div class="card">

    <h4 class="list-message"><i class="fa-solid fa-plus"></i> Creer un produit : </h4>
    <form action="" method="post">

      {% csrf_token %}
      {{form.as_p}}

      <button type="submit" class="btn btn-success">Ajouter</button>
    </form>
    <h4 class="list-message"><i class="fa-solid fa-plus"></i> Creer un type produit : </h4>

    
    <form action="" method="post">

      {% csrf_token %}
      {{form_typep.as_p}}

      <button type="submit" class="btn btn-success">Ajouter</button>

    </form>


  </div>

  <h4 class="list-message">La liste des produits : </h4>


  <table class="table-responsive table-bordered">
    <thead>
      <tr>
        <th class="bg-success" scope="col">#</th>
        <th class="bg-success" scope="col">Designation</th>
        <th class="bg-success" scope="col">Type</th>
        <th class="bg-success" scope="col">Type Produit</th>
        <th class="bg-success" scope="col">Action</th>
      </tr>
    </thead>



    <tbody>
      {% for p in prod %}
      <tr>
        <td>{{p.pk}}</td>
        <td>{{p.designation}}</td>
        <td>{{p.type}}</td>
        <td>{{p.typep.designation}}</td>
        <td>

          <button onclick=location.href="{% url 'modifier_produits' p.pk %}" type="button" class="btn btn-warning"> Edit
          </button>
          <button onclick=location.href="{% url 'supprimer_produits' p.pk %}" type="button" class="btn btn-danger">
            Delete </button>

        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h4 class="list-message">La liste des types produit : </h4>

  <table class="table-responsive table-bordered">
    <thead>
      <tr>
        <th class="bg-success" scope="col">#</th>
        <th class="bg-success" scope="col">Designation</th>
        <th class="bg-success" scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for p in typep %}
      <tr>
        <td>{{p.pk}}</td>
        <td>{{p.designation}}</td>
        <td>
          <button onclick=location.href="{% url 'modifier_typeproduit' p.pk %}" type="button"
            class="btn btn-warning">Edit</button>
          <button onclick=location.href="{% url 'supprimer_typeproduit' p.pk %}" type="button"
            class="btn btn-danger">Delete </button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</body>

</html>